(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2341)}])},2341:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var a=t(4051),r=t.n(a),s=t(5893),o=t(9008),i=t.n(o),u=t(7294),p=t(6076),c=t(715),l=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"NewEpicNFTMinted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"makeAnEpicNFT","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');function d(e,n,t,a,r,s,o){try{var i=e[s](o),u=i.value}catch(p){return void t(p)}i.done?n(u):Promise.resolve(u).then(a,r)}function y(e){return function(){var n=this,t=arguments;return new Promise((function(a,r){var s=e.apply(n,t);function o(e){d(s,a,r,o,i,"next",e)}function i(e){d(s,a,r,o,i,"throw",e)}o(void 0)}))}}function m(e,n){return null!=n&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](e):e instanceof n}var f="0x476D0131e701B8A273232aD2Ced77Da407B9190c",b=function(){var e=(0,u.useState)(""),n=e[0],t=e[1],a=function(){var e=y(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.ethereum){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,n.request({method:"eth_chainId"});case 5:if("0x4"===e.sent){e.next=8;break}return e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=window.ethereum;e&&e.on("chainChanged",(function(e){console.log("chainId: ".concat(e)),"0x4"===e&&window.location.reload()}))},d=function(){var e=document.querySelector("#message");m(e,HTMLElement)?e.innerHTML="":console.error("message container is not HTMLElement")},b=function(e){var n=document.querySelector("#message");if(m(n,HTMLElement)){var t=document.createElement("div");t.innerHTML=e,n.append(t)}else console.error("message container is not HTMLElement")},h=function(){var e=y(r().mark((function e(){var n,a,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.ethereum){e.next=6;break}return console.log("Make sure you have metamask!"),e.abrupt("return");case 6:console.log("We have the ethereum object",n);case 7:return e.next=9,n.request({method:"eth_accounts"});case 9:a=e.sent,Array.isArray(a)&&0!==a.length?(s=a[0],console.log("Found an authorized account:",s),t(s),T(),o()):console.log("No authorized account found");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=y(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=window.ethereum){e.next=5;break}return alert("Get MetaMask!"),e.abrupt("return");case 5:return e.next=7,n.request({method:"eth_requestAccounts"});case 7:if(a=e.sent,Array.isArray(a)){e.next=11;break}return alert("Error: failed to get account info"),e.abrupt("return");case 11:console.log("Conencted",a[0]),t(a[0]),T(),o(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=y(r().mark((function e(){var n,t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(n=window.ethereum)?(t=new c.Q(n),a=t.getSigner(),new p.CH(f,l.Mt,a).on("NewEpicNFTMinted",(function(e,n){console.log(e,n.toNumber());var t="https://testnets.opensea.io/assets/".concat(f,"/").concat(n.toNumber()),a='New NFT minted on <a href="'.concat(t,'">OpenSea</a>');b(a)})),console.log("Setup event listener!")):console.log("Ethereum object doesn't exist!")}catch(r){console.log(r)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=y(r().mark((function e(){var n,t,s,o,i,u,y,m,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=window.ethereum)){e.next=31;break}return e.next=5,a();case 5:if(e.t0=e.sent,!0===e.t0){e.next=9;break}return alert("Change to Rinkeby testnet!"),e.abrupt("return");case 9:return t=new c.Q(n),s=t.getSigner(),o=new p.CH(f,l.Mt,s),console.log("Going to pop wallet now to pay gas..."),e.next=15,o.makeAnEpicNFT();case 15:return i=e.sent,d(),u="\u26cfMining...",console.log(u),b(u),e.next=22,i.wait();case 22:y="Mined.",console.log(y),b(y),m="https://rinkeby.etherscan.io/tx/".concat(i.hash),h='View transaction: <a href="'.concat(m,'">').concat(i.hash,"</a>"),console.log(h),b(h),e.next=32;break;case 31:console.log("Ethereum object doesn't exist!");case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(0),console.log(e.t1);case 37:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){h()}),[]),(0,s.jsxs)("div",{children:[(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:"My NFT"}),(0,s.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)("div",{className:"App",children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("div",{className:"header-container",children:[(0,s.jsx)("p",{className:"header gradient-text",children:"My NFT Collection"}),(0,s.jsx)("p",{className:"sub-text",children:"Each unique. Each beautiful. Discover your NFT today\ud83e\uddda"}),(0,s.jsx)("a",{href:"https://testnets.opensea.io/collection/squarenft-p54gsrgrc2",children:(0,s.jsx)("button",{className:"cta-button opensea-button",children:"View Collection on OpenSea"})}),""===n?(0,s.jsx)("button",{onClick:v,className:"cta-button connect-wallet-button",children:"Connect to Wallet"}):(0,s.jsx)("button",{onClick:w,className:"cta-button connect-wallet-button",children:"Mint NFT"})]}),(0,s.jsx)("div",{id:"message"})]})})]})}},6601:function(){}},function(e){e.O(0,[77,774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);